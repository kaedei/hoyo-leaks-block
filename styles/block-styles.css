/* 主要的屏蔽样式 - 加强优先级 */
.hoyo-blur-block,
[data-hoyo-blocked="true"] {
  filter: blur(5px) !important;
  opacity: 0.6 !important;
  transition: all 0.5s ease !important;
}

.hoyo-blur-block:hover,
[data-hoyo-blocked="true"]:hover {
  filter: blur(0.5px) !important;
  opacity: 1.0 !important;
}

/* 强制样式 - 确保在所有平台上都生效 */
body .hoyo-blur-block,
html .hoyo-blur-block,
div.hoyo-blur-block,
section.hoyo-blur-block,
article.hoyo-blur-block,
*[data-hoyo-blocked="true"] {
  filter: blur(5px) !important;
  opacity: 0.6 !important;
  transition: all 0.5s ease !important;
}

body .hoyo-blur-block:hover,
html .hoyo-blur-block:hover,
div.hoyo-blur-block:hover,
section.hoyo-blur-block:hover,
article.hoyo-blur-block:hover,
*[data-hoyo-blocked="true"]:hover {
  filter: blur(0.5px) !important;
  opacity: 1.0 !important;
}

/* 针对Bilibili特定元素的强制样式 */
.bili-video-card.hoyo-blur-block,
.bili-video-card[data-hoyo-blocked="true"],
.video-card.hoyo-blur-block,
.video-card[data-hoyo-blocked="true"] {
  filter: blur(5px) !important;
  opacity: 0.6 !important;
  transition: all 0.5s ease !important;
}

.bili-video-card.hoyo-blur-block:hover,
.bili-video-card[data-hoyo-blocked="true"]:hover,
.video-card.hoyo-blur-block:hover,
.video-card[data-hoyo-blocked="true"]:hover {
  filter: blur(0.5px) !important;
  opacity: 1.0 !important;
}

/* Bilibili特定的强制样式 */
.bilibili-com .hoyo-blur-block,
.bilibili-com [data-hoyo-blocked="true"],
[class*="bili-"] .hoyo-blur-block,
[class*="bili-"][data-hoyo-blocked="true"],
[class*="video-card"] .hoyo-blur-block,
[class*="video-card"][data-hoyo-blocked="true"] {
  filter: blur(5px) !important;
  opacity: 0.6 !important;
  transition: all 0.5s ease !important;
  position: relative !important;
}

.bilibili-com .hoyo-blur-block:hover,
.bilibili-com [data-hoyo-blocked="true"]:hover,
[class*="bili-"] .hoyo-blur-block:hover,
[class*="bili-"][data-hoyo-blocked="true"]:hover,
[class*="video-card"] .hoyo-blur-block:hover,
[class*="video-card"][data-hoyo-blocked="true"]:hover {
  filter: blur(0.5px) !important;
  opacity: 1.0 !important;
}

/* 设置按钮样式 */
.hoyo-block-open-button {
  position: fixed !important;
  z-index: 99997 !important;
  right: 0 !important;
  top: 40% !important;
  width: 30px !important;
  border-top-left-radius: 8px !important;
  border-bottom-left-radius: 8px !important;
  background-color: #00b2ff !important;
  font-size: 12px !important;
  color: #fff !important;
  padding: 8px 9px !important;
  line-height: 14px !important;
  box-sizing: border-box !important;
  text-decoration: none !important;
  outline: none !important;
  cursor: pointer !important;
  background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyUzYuNDggMjIgMTIgMjIgMjIgMTcuNTIgMjIgMTJTMTcuNTIgMiAxMiAyWk0xNy41NiAxN0wxNiAxNS40NEwxMC40NCAxMEwxMiA4LjQ0TDE3LjU2IDEzLjU2TDE3LjU2IDE3WiIgZmlsbD0iI2ZmZiIvPgo8L3N2Zz4K") !important;
  background-position: center 5px !important;
  background-size: 20px !important;
  background-repeat: no-repeat !important;
  padding-top: 30px !important;
  transition: all 0.3s ease !important;
  font-family: "Microsoft YaHei", "PingFang SC", "Helvetica Neue", Arial,
    sans-serif !important;
  user-select: none !important;
  box-shadow: 0 2px 8px rgba(0, 178, 255, 0.3) !important;
}

.hoyo-block-open-button:hover {
  box-shadow: 0 4px 12px rgba(0, 178, 255, 0.5) !important;
  transform: translateX(-2px) !important;
}

/* 消息提示样式 */
.hoyo-message {
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  min-width: 100px !important;
  border-radius: 4px !important;
  background-color: rgba(0, 0, 0, 0.8) !important;
  color: #fff !important;
  padding: 12px 24px !important;
  text-align: center !important;
  font-size: 14px !important;
  z-index: 99999 !important;
  opacity: 0 !important;
  visibility: hidden !important;
  transition: all 0.3s ease !important;
  font-family: "Microsoft YaHei", "PingFang SC", "Helvetica Neue", Arial,
    sans-serif !important;
}

.hoyo-message.show {
  opacity: 1 !important;
  visibility: visible !important;
}

/* 特定平台的样式调整 */
/* Bilibili */
.bilibili .hoyo-blur-block .bili-video-card__info--tit {
  color: transparent !important;
  background-color: #f0f0f0 !important;
  border-radius: 4px !important;
}

/* YouTube */
.youtube .hoyo-blur-block #video-title {
  color: transparent !important;
  background-color: #f0f0f0 !important;
  border-radius: 4px !important;
}

/* Twitter */
.twitter .hoyo-blur-block [data-testid="tweetText"] {
  color: transparent !important;
  background-color: #f0f0f0 !important;
  border-radius: 4px !important;
}

/* 防止样式冲突：容器定位已由 .hoyo-blur-container 提供，这里不再强制被模糊元素定位 */

/* 覆盖层：不影响布局，铺满容器 */
.hoyo-block-overlay {
  position: absolute !important;
  inset: 0 !important; /* top/right/bottom/left: 0 */
  z-index: 99998 !important;
  display: flex !important;
  align-items: center !important; /* 垂直居中 */
  justify-content: center !important;
  pointer-events: none !important; /* 不抢占点击 */
}

/* 屏蔽原因标签（置于覆盖层中居中显示）*/
.hoyo-block-label {
  margin-top: 0 !important;
  padding: 4px 10px !important;
  font-size: 12px !important;
  line-height: 18px !important;
  color: #fff !important;
  background: rgba(0, 0, 0, 0.7) !important;
  border-radius: 12px !important;
  white-space: nowrap !important;
  max-width: 90% !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  font-family: "Microsoft YaHei", "PingFang SC", "Helvetica Neue", Arial, sans-serif !important;
}

/* 容器用于承载标签并避免自身被模糊 */
.hoyo-blur-container {
  position: relative !important;
}

/* 悬停时隐藏原因覆盖层（同时页面已减弱模糊）*/
.hoyo-blur-container:hover > .hoyo-block-overlay {
  display: none !important;
}

/* Bilibili 搜索结果等卡片的保护性样式，确保覆盖层不参与布局且相对卡片定位 */
.bili-video-card > .hoyo-block-overlay,
.video-card > .hoyo-block-overlay {
  position: absolute !important;
  inset: 0 !important;
  pointer-events: none !important;
}
