# 米哈游内鬼屏蔽工具 (Hoyo Leaks Block)

> **致谢**: 本项目基于 B 站大佬 @凡云 开发的原始 Tampermonkey 脚本重构而成，感谢原作者的开源贡献！
> 原项目地址：https://github.com/LCYBFF/genshinLeaksBlock

一个用于屏蔽 B 站、YouTube、Twitter 平台上原神和星穹铁道内鬼爆料内容的 Chrome/Edge 浏览器扩展。

## 功能特点

- 🛡️ **多平台支持**：支持 B 站、YouTube、Twitter 三大平台
- 🔍 **智能识别**：通过关键词和用户名自动识别内鬼爆料内容
- ⚡ **实时屏蔽**：实时监控页面内容并自动屏蔽
- 📝 **自定义规则**：支持自定义屏蔽关键词和用户黑白名单
- 🎯 **精准屏蔽**：支持区域管理，精确控制屏蔽范围
- 💾 **配置管理**：支持配置导入导出和远程更新
- 🎨 **用户友好**：现代化的界面设计，操作简单直观

## 安装方法

### 从源码安装

1. 下载或克隆此项目到本地
2. 打开 Chrome 浏览器，进入扩展程序页面 (`chrome://extensions/`)
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹即可

### 支持的浏览器

- Chrome 88+
- Edge 88+
- 其他基于 Chromium 的浏览器

## 使用方法

### 基本使用

1. 安装扩展后，会在页面右侧显示一个蓝色的悬浮按钮
2. 点击浏览器工具栏的扩展图标可以快速开启/关闭屏蔽功能
3. 点击悬浮按钮或右键菜单中的"选项"进入详细设置页面

### 配置屏蔽规则

1. 在设置页面的"屏蔽规则"标签页中配置：

   - **屏蔽关键词**：输入要屏蔽的关键词，用 `|` 分隔多个关键词
   - **作者黑名单**：输入要屏蔽的用户名，用 `|` 分隔
   - **作者白名单**：输入不想屏蔽的用户名，用 `|` 分隔

2. 默认关键词示例：
   ```
   内鬼|爆料|泄露|leak|beta|测试服|内部|剧透|预告|未公开
   ```

### 区域管理

在"区域管理"标签页中，可以：

- 查看所有平台的屏蔽区域
- 开启/关闭特定区域的屏蔽功能
- 编辑或删除区域设置

### 配置导入导出

- **导出配置**：将当前设置导出为 JSON 文件
- **导入配置**：从 JSON 文件导入设置
- **远程更新**：从服务器更新最新的区域配置

## 文件结构

```
hoyo-leaks-block/
├── manifest.json              # 扩展清单文件
├── background.js             # 后台脚本
├── core/
│   └── block-core.js         # 核心屏蔽逻辑
├── content-scripts/
│   ├── bilibili.js           # B站内容脚本
│   ├── youtube.js            # YouTube内容脚本
│   └── twitter.js            # Twitter内容脚本
├── popup/
│   ├── popup.html            # 弹窗页面
│   ├── popup.css             # 弹窗样式
│   └── popup.js              # 弹窗脚本
├── options/
│   ├── options.html          # 设置页面
│   ├── options.css           # 设置样式
│   └── options.js            # 设置脚本
├── styles/
│   └── block-styles.css      # 屏蔽样式
├── icons/                    # 图标文件
└── README.md                 # 说明文档
```

## 开发说明

### 技术栈

- **Manifest V3**：使用最新的 Chrome 扩展 API
- **原生 JavaScript**：不依赖任何第三方库
- **CSS3**：现代化的样式设计
- **Chrome Storage API**：配置数据存储

### 主要特性

1. **模块化设计**：核心功能独立，易于维护
2. **平台适配**：针对不同平台的特殊处理
3. **实时更新**：监听页面变化，实时应用屏蔽规则
4. **性能优化**：使用防抖和节流技术优化性能
5. **用户体验**：友好的界面和操作反馈

### 开发环境设置

1. 确保有 Node.js 环境（用于代码格式化等）
2. 推荐使用 VS Code 进行开发
3. 安装相关的扩展开发插件

## 更新日志

### v3.0.0

- 🎉 从 Tampermonkey 脚本重构为 Chrome 扩展
- ✨ 新增现代化的设置界面
- 🔄 重写核心屏蔽逻辑
- 📱 优化移动端适配
- 🛠️ 改进配置管理系统

## 问题反馈

如果您在使用过程中遇到任何问题，请通过以下方式反馈：

1. 在 GitHub 上提交 Issue
2. 提供详细的错误信息和复现步骤
3. 说明使用的浏览器版本和操作系统

## 许可证

MIT License

## 鸣谢

感谢原 Tampermonkey 脚本的开发者提供的思路和部分代码参考。

---

**注意**：此扩展仅用于个人学习和研究目的，请遵守相关平台的使用条款。
